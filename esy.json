{
  "name": "ligo",
  "version": "0.31.0",
  "esy": {
    "build": "dune build -p #{self.name}",
    "release": {
      "bin": ["ligo"],
      "includePackages": [
        "root",
        "esy-libev",
        "@esy-ocaml/libffi",
        "@opam/hacl-star-raw",
        "@opam/conf-libev",
        "esy-gmp"
      ],
      "rewritePrefix": true
    },
    "buildEnv": {
      "OPAM_SWITCH_PREFIX": "#{ @opam/tezos-rust-libs.install }"
    }
  },
  "exportedEnv": {
    "LD_LIBRARY_PATH": {
      "val": "#{@opam/hacl-star-raw.lib / 'hacl-star-raw' : esy-libev.lib : $LD_LIBRARY_PATH}",
      "scope": "global"
    },
    "DYLD_LIBRARY_PATH": {
      "val": "#{@opam/hacl-star-raw.lib / 'hacl-star-raw' : esy-libev.lib : $DYLD_LIBRARY_PATH}",
      "scope": "global"
    }
  },
  "license": "MIT",
  "dependencies": {
    "ocaml": "4.12.0",
    "@opam/UnionFind": "*",
    "@opam/Preprocessor": "*",
    "@opam/ParserLib": "*",
    "@opam/LexerLib": "*",
    "@opam/proto-alpha-utils": "*",
    "@opam/ppx_let": "*",
    "@opam/tezos-utils": "*",
    "@opam/dune": ">= 2.9.1",
    "@opam/hex": ">= 1.4.0",
    "@opam/menhir": "20211012",
    "@opam/ocamlgraph": ">= 2.0.0",
    "@opam/coq": "8.13.1",
    "@opam/ppx_deriving": ">= 5.2.1",
    "@opam/ppx_deriving_yojson": ">= 3.6.1",
    "@opam/ppx_expect": "v0.14.1",
    "@opam/yojson": ">= 1.7.0",
    "@opam/alcotest": ">= 1.0",
    "@opam/getopt": "20120615",
    "@opam/terminal_size": ">= 0.1.4",
    "@opam/pprint": "20200410",
    "@opam/linenoise": ">= 1.3.1",
    "@opam/qcheck": ">= 0.17",
    "@opam/ocaml-migrate-parsetree": ">= 2.1.0",
    "@opam/lwt": ">= 5.4.2",
    "@opam/bisect_ppx": ">= 2.5.0",
    "@opam/alcotest-lwt": "*",
    "@opam/data-encoding": "*",
    "@opam/lwt_log": "*",
    "@opam/ringo": "*",
    "@opam/ringo-lwt": "*",
    "@opam/ipaddr": "*",
    "@opam/ptime": "*",
    "@opam/mtime": "*",
    "@opam/secp256k1-internal": "*",
    "@opam/resto-directory": "*",
    "@opam/hacl-star": "*",
    "@opam/hacl-star-raw": "*",
    "@opam/irmin-pack": "*",
    "@opam/tezos-rust-libs": "*",
    "@opam/sexplib": "v0.14.0",
    "@opam/irmin": "*",
    "@opam/domain-name": "0.3.0",
    "@opam/qcheck-alcotest": "*",
    "@opam/lwt-canceler": "*",
    "@opam/bls12-381": "*",
    "@opam/bls12-381-unix": "*",
    "@opam/ocaml-recovery-parser": "0.1",
    "@opam/zarith": "*",
    "@opam/ctypes": "*"
  },
  "devDependencies": {
    "@opam/ocaml-lsp-server": "*",
    "@opam/ocamlformat": "0.19.0"
  },
  "resolutions": {
    "@opam/bls12-381": "1.1.0",
    "@opam/bls12-381-unix": "1.1.0",
    "@opam/bls12-381-gen": "0.4.4",
    "@opam/secp256k1-internal": "git:https://gitlab.com/nomadic-labs/ocaml-secp256k1-internal:secp256k1-internal.opam#18012dcbe3169d51a2b2d6e991150a9a02a85494",
    "@opam/getopt": "ulrikstrid/ocaml-getopt:getopt.opam#645ab74",
    "@opam/ocaml-recovery-parser": "serokell/ocaml-recovery-parser:ocaml-recovery-parser.opam#7a759aed307f986d43006c50b8ced677e18b5a6d",
    "@esy-ocaml/libffi": "ManasJayanth/esy-libffi:esy.json#2c92299035449460bdf56f866866aea64702b95f",
    "@opam/conf-libffi": {
      "source": "no-source:",
      "override": {
        "dependencies": {
          "@esy-ocaml/libffi": "*"
        }
      }
    },
    "@opam/conf-libev": {
      "source": "no-source:",
      "override": {
        "dependencies": {
          "esy-libev": "*"
        }
      }
    },
    "@opam/tezos-lwt-result-stdlib": "link:./vendors/tezos-ligo/src/lib_lwt_result_stdlib/tezos-lwt-result-stdlib.opam",
    "@opam/tezos-embedded-protocol-008-PtEdo2Zk": {
      "source": "link:./vendors/tezos-ligo/src/proto_008_PtEdo2Zk/lib_protocol/tezos-embedded-protocol-008-PtEdo2Zk.opam",
      "override": {
        "build": [
          [
            "env",
            "#{ os == 'darwin' ? 'DY': ''}LD_LIBRARY_PATH=#{@esy-ocaml/libffi.lib : @opam/hacl-star-raw.lib / 'hacl-star-raw' : esy-libev.lib}",
            "dune",
            "build",
            "-p",
            "tezos-embedded-protocol-008-PtEdo2Zk",
            "-j",
            "4"
          ]
        ],
        "buildEnvOverride": {
          "DYLD_LIBRARY_PATH": "#{@opam/hacl-star-raw.lib / 'hacl-star-raw' : esy-libev.lib : $DYLD_LIBRARY_PATH}",
          "LD_LIBRARY_PATH": "#{@opam/hacl-star-raw.lib / 'hacl-star-raw' : esy-libev.lib : $LD_LIBRARY_PATH}"
        },
        "dependencies": {
          "@esy-ocaml/libffi": "*",
          "@opam/hacl-star-raw": "*",
          "esy-libev": "*"
        }
      }
    },
    "esy-rustup": {
      "source": "https://github.com/rust-lang/rustup/archive/refs/tags/1.24.2.tar.gz#979e8139734d39313b0147e0db3bfd2675f49507",
      "override": {
        "buildsInSource": true,
        "buildEnv": {
          "RUSTUP_USE_CURL": "1",
          "CARGO_HOME": "#{self.target_dir}",
          "RUSTUP_HOME": "#{self.target_dir / '.rustup'}"
        },
        "exportedEnv": {
          "CARGO_HOME": {
            "val": "#{self.install}",
            "scope": "global"
          },
          "RUSTUP_HOME": {
            "val": "#{self.install / '.rustup'}",
            "scope": "global"
          }
        },
        "build": [
          [
            "sh",
            "-c",
            "./rustup-init.sh -y --no-modify-path --default-toolchain 1.51 --profile minimal #{os == 'windows' ? '--default-host=x86_64-pc-windows-gnu' : ''}"
          ]
        ],
        "install": [
          "cp #{self.target_dir}/bin/cargo-fmt#{os == 'windows' ? '.exe': ''} #{self.bin}",
          "cp #{self.target_dir}/bin/cargo-miri#{os == 'windows' ? '.exe': ''} #{self.bin}",
          "cp #{self.target_dir}/bin/cargo#{os == 'windows' ? '.exe': ''} #{self.bin}",
          "cp #{self.target_dir}/bin/clippy-driver#{os == 'windows' ? '.exe': ''} #{self.bin}",
          "cp #{self.target_dir}/bin/rls#{os == 'windows' ? '.exe': ''} #{self.bin}",
          "cp #{self.target_dir}/bin/rust-gdb#{os == 'windows' ? '.exe': ''} #{self.bin}",
          "cp #{self.target_dir}/bin/rust-lldb#{os == 'windows' ? '.exe': ''} #{self.bin}",
          "cp #{self.target_dir}/bin/rustc#{os == 'windows' ? '.exe': ''} #{self.bin}",
          "cp #{self.target_dir}/bin/rustdoc#{os == 'windows' ? '.exe': ''} #{self.bin}",
          "cp #{self.target_dir}/bin/rustfmt#{os == 'windows' ? '.exe': ''} #{self.bin}",
          "cp #{self.target_dir}/bin/rustup#{os == 'windows' ? '.exe': ''} #{self.bin}",
          "cp -R #{self.target_dir}/.cargo #{self.install}/.cargo",
          "cp -R #{self.target_dir}/.rustup #{self.install}/.rustup"
        ]
      }
    },
    "esy-libev": "esy-packages/libev:package.json#0b5eb6685b688649045aceac55dc559f6f21b829",
    "yarn-pkg-config": "esy-ocaml/yarn-pkg-config#db3a0b63883606dd57c54a7158d560d6cba8cd79",
    "@opam/conduit-lwt-unix": "4.0.1",
    "@opam/hacl-star": "0.4.1",
    "@opam/hacl-star-raw": {
      "version": "opam:0.4.1",
      "override": {
        "exportedEnv": {
          "DYLD_LIBRARY_PATH": {
            "scope": "global",
            "val": "#{self.lib / 'hacl-star-raw'}:$DYLD_LIBRARY_PATH"
          },
          "LD_LIBRARY_PATH": {
            "scope": "global",
            "val": "#{self.lib / 'hacl-star-raw'}:$LD_LIBRARY_PATH"
          }
        },
        "buildEnv": {
          "DYLD_LIBRARY_PATH": "#{@esy-ocaml/libffi.lib}:$DYLD_LIBRARY_PATH",
          "LD_LIBRARY_PATH": "#{@esy-ocaml/libffi.lib}:$LD_LIBRARY_PATH"
        },
        "dependencies": {
          "@opam/ctypes": "*",
          "@opam/ctypes-foreign": "*",
          "@opam/ocamlfind": "*",
          "@esy-ocaml/libffi": "*"
        },
        "buildsInSource": true,
        "build": [
          ["sh", "-exc", "cd raw && ./configure"],
          ["make", "-C", "raw"]
        ],
        "install": [["make", "-C", "raw", "install-hacl-star-raw"]]
      }
    },
    "@opam/conf-rust": {
      "source": "no-source:",
      "override": {
        "build": ["true"],
        "dependencies": {
          "esy-rustup": "*"
        }
      }
    },
    "@opam/tezos-base": "link:./vendors/tezos-ligo/src/lib_base/tezos-base.opam",
    "@opam/tezos-protocol-compiler": {
      "source": "link:./vendors/tezos-ligo/src/lib_protocol_compiler/tezos-protocol-compiler.opam",
      "override": {
        "dependencies": {
          "@opam/bls12-381-unix": "*"
        }
      }
    },
    "@opam/tezos-rust-libs": "1.1",
    "@opam/bls12-381-legacy": {
      "source": "https://gitlab.com/dannywillems/ocaml-bls12-381/-/archive/0.4.4-legacy/ocaml-bls12-381-0.4.4-legacy.tar.bz2#sha512:3e2669baf621304bbe14bcb53ab128d01577b98f13bec497953328c8605c9dc5667c873b680e087dd240362ee77b0f15d1d4bbe60dd67a2dc4b8b64838189d6a",
      "override": {
        "buildsInSource": "_build",
        "build": [
          ["dune", "build", "-j", "4", "-p", "bls12-381-legacy", "@install"]
        ],
        "install": [["esy-installer", "bls12-381-legacy.install"]],
        "buildEnvOverride": {
          "OPAM_SWITCH_PREFIX": "#{ @opam/tezos-rust-libs.install }"
        },
        "dependencies": {
          "@opam/conf-rust": "*",
          "@opam/dune": "*",
          "@opam/ff-sig": "*",
          "@opam/zarith": "*",
          "@opam/ctypes": "*",
          "@opam/ctypes-foreign": "*",
          "@opam/bls12-381-gen": "*",
          "@opam/tezos-rust-libs": "*"
        }
      }
    },
    "@opam/simple-utils": "link:./vendors/ligo-utils/simple-utils/simple-utils.opam",
    "@opam/tezos-utils": "link:./vendors/ligo-utils/tezos-utils/tezos-utils.opam",
    "@opam/UnionFind": "link:./vendors/UnionFind/UnionFind.opam",
    "@opam/Preprocessor": "link:./vendors/Preprocessor/Preprocessor.opam",
    "@opam/ParserLib": "link:./vendors/ParserLib/ParserLib.opam",
    "@opam/LexerLib": "link:./vendors/LexerLib/LexerLib.opam",
    "@opam/tezos-memory-proto-alpha": "link:./vendors/ligo-utils/memory-proto-alpha/tezos-memory-proto-alpha.opam",
    "@opam/RedBlackTrees": "link:./vendors/Red-Black_Trees/RedBlackTrees.opam",
    "@opam/zarith": "opam:1.12",
    "@opam/proto-alpha-utils": "link:./vendors/ligo-utils/proto-alpha-utils/proto-alpha-utils.opam",
    "@opam/conf-hidapi": {
      "source": "no-source:",
      "override": {
        "dependencies": {
          "yarn-pkg-config": "*",
          "esy-hidapi": "*"
        }
      }
    },
    "esy-hidapi": "esy-packages/esy-hidapi:esy.json#e21f930d6474e460fa5bb955a26505f6c3500c7a",
    "libtool": "ManasJayanth/esy-libtool:esy.json#d6725b52f8d021539e92d182d29979951e706836",
    "@opam/tezos-error-monad": {
      "source": "link:./vendors/tezos-ligo/src/lib_error_monad/tezos-error-monad.opam",
      "override": {
        "dependencies": {
          "@opam/tezos-lwt-result-stdlib": "*"
        }
      }
    },
    "@opam/tezos-shell-services": "link:./vendors/tezos-ligo/src/lib_shell_services/tezos-shell-services.opam",
    "@opam/tezos-client-base": "link:./vendors/tezos-ligo/src/lib_client_base/tezos-client-base.opam",
    "@opam/tezos-p2p-services": "link:./vendors/tezos-ligo/src/lib_p2p_services/tezos-p2p-services.opam",
    "@opam/tezos-version": "link:./vendors/tezos-ligo/src/lib_version/tezos-version.opam",
    "@opam/tezos-sapling": {
      "source": "link:./vendors/tezos-ligo/src/lib_sapling/tezos-sapling.opam",
      "override": {
        "buildEnvOverride": {
          "OPAM_SWITCH_PREFIX": "#{ @opam/tezos-rust-libs.install }"
        },
        "dependencies": {
          "@opam/tezos-crypto": "*",
          "@opam/dune": "*",
          "@opam/ctypes-foreign": "*",
          "@esy-ocaml/substs": "*",
          "@opam/tezos-rust-libs": "*"
        }
      }
    },
    "@opam/tezos-micheline": "link:./vendors/tezos-ligo/src/lib_micheline/tezos-micheline.opam",
    "@opam/tezos-stdlib": "link:./vendors/tezos-ligo/src/lib_stdlib/tezos-stdlib.opam",
    "@opam/tezos-stdlib-unix": {
      "source": "link:./vendors/tezos-ligo/src/lib_stdlib_unix/tezos-stdlib-unix.opam",
      "override": {
        "dependencies": {}
      }
    },
    "@opam/tezos-clic": {
      "source": "link:./vendors/tezos-ligo/src/lib_clic/tezos-clic.opam",
      "override": {
        "dependencies": {
          "@opam/tezos-lwt-result-stdlib": "*"
        }
      }
    },
    "@opam/tezos-crypto": {
      "source": "link:./vendors/tezos-ligo/src/lib_crypto/tezos-crypto.opam",
      "override": {
        "dependencies": {
          "@opam/bls12-381-unix": "*",
          "@opam/tezos-error-monad": "*"
        }
      }
    },
    "@opam/tezos-protocol-compiler": {
      "source": "link:./vendors/tezos-ligo/src/lib_protocol_compiler/tezos-protocol-compiler.opam",
      "override": {
        "build": [
          "sed -i -e 's/tezos-base.unix/tezos-base.unix bls12-381-unix/g' dune",
          "dune build -j 4 -p tezos-protocol-compiler"
        ],
        "dependencies": {
          "@opam/bls12-381-unix": "*"
        }
      }
    },
    "@opam/tezos-protocol-008-PtEdo2Zk": {
      "source": "link:./vendors/tezos-ligo/src/proto_008_PtEdo2Zk/lib_protocol/tezos-protocol-008-PtEdo2Zk.opam",
      "override": {
        "build": [
          ["sed", "-i.back", "-e", "s/-nostdlib//g", "dune.inc"],
          ["dune", "build", "-p", "tezos-protocol-008-PtEdo2Zk", "-j", "4"]
        ]
      }
    },
    "@opam/tezos-protocol-008-PtEdo2Zk-parameters": {
      "source": "link:./vendors/tezos-ligo/src/proto_008_PtEdo2Zk/lib_parameters/tezos-protocol-008-PtEdo2Zk-parameters.opam",
      "override": {
        "dependencies": {
          "@esy-ocaml/libffi": "*",
          "@opam/hacl-star-raw": "*"
        },
        "buildEnv": {
          "DYLD_LIBRARY_PATH": "#{@esy-ocaml/libffi.lib : @opam/hacl-star-raw.lib / 'hacl-star-raw' : $DYLD_LIBRARY_PATH}",
          "LD_LIBRARY_PATH": "#{@esy-ocaml/libffi.lib : @opam/hacl-star-raw.lib / 'hacl-star-raw' : $LD_LIBRARY_PATH}"
        },
        "build": [
          "sed -i -e 's/tezos-base/tezos-base bls12-381-unix/g' dune",
          [
            "env",
            "#{ os == 'darwin' ? 'DY': ''}LD_LIBRARY_PATH=#{@esy-ocaml/libffi.lib : @opam/hacl-star-raw.lib / 'hacl-star-raw'}",
            "dune",
            "build",
            "-p",
            "tezos-protocol-008-PtEdo2Zk-parameters",
            "-j",
            "4"
          ]
        ]
      }
    },
    "@opam/tezos-event-logging": {
      "source": "link:./vendors/tezos-ligo/src/lib_event_logging/tezos-event-logging.opam",
      "override": {
        "dependencies": {
          "@opam/tezos-error-monad": "*",
          "@opam/lwt_log": "*"
        }
      }
    },
    "@opam/tezos-rpc": "link:./vendors/tezos-ligo/src/lib_rpc/tezos-rpc.opam",
    "@opam/tezos-rpc-http": "link:./vendors/tezos-ligo/src/lib_rpc_http/tezos-rpc-http.opam",
    "@opam/tezos-protocol-011-PtHangz2": "link:./vendors/tezos-ligo/src/proto_011_PtHangz2/lib_protocol/tezos-protocol-011-PtHangz2.opam",
    "@opam/tezos-protocol-011-PtHangzH": "link:./vendors/tezos-ligo/src/proto_011_PtHangz2/lib_protocol/tezos-protocol-011-PtHangz2.opam",
    "@opam/tezos-client-011-PtHangzH": "link:./vendors/tezos-ligo/src/proto_011_PtHangz2/lib_client/tezos-client-011-PtHangz2.opam",
    "@opam/tezos-hacl-glue": "link:./vendors/tezos-ligo/src/lib_hacl_glue/virtual/tezos-hacl-glue.opam",
    "@opam/tezos-protocol-environment-packer": "link:./vendors/tezos-ligo/src/lib_protocol_environment/tezos-protocol-environment-packer.opam",
    "@opam/tezos-protocol-environment": "link:./vendors/tezos-ligo/src/lib_protocol_environment/tezos-protocol-environment.opam",
    "@opam/tezos-protocol-environment-sigs": "link:./vendors/tezos-ligo/src/lib_protocol_environment/tezos-protocol-environment-sigs.opam",
    "@opam/tezos-protocol-environment-structs": "link:./vendors/tezos-ligo/src/lib_protocol_environment/tezos-protocol-environment-structs.opam",
    "@opam/tezos-proxy": "link:./vendors/tezos-ligo/src/lib_proxy/tezos-proxy.opam",
    "@opam/tezos-context": "link:./vendors/tezos-ligo/src/lib_context/tezos-context.opam",
    "@opam/tezos-hacl-glue-unix": "link:./vendors/tezos-ligo/src/lib_hacl_glue/unix/tezos-hacl-glue-unix.opam",
    "@opam/ligo-core": "link:./vendors/ligo-utils/ligo-core/ligo-core.opam"
  }
}
